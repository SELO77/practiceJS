<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Day7 Closures</title>
</head>
<body>

	<script>
		//클로져란 두 개의 것으로 이루어진 특별한 오브젝트이다. 첫번째는 함수이고, 두 번째는 그 함수가 만들어진 환경이다.

		//클로져를 이용한 private 함수 흉내내기
		//자바에서는 같은  클래스 내부의 메쏘드에서만 호출할 수 있는 private 메쏘드를 지원합니다.
		//SetterMethod라 부르지요.
		//자바스크립트는 이를 지원하지 않지만 클로져를 이용해서 흉내낼 수 있습니다. private함수는 코드에 제한적인 접근만을 허용한다는 점 뿐만 아니라
		//전역 네임스페이스를 깔끔하게 유지할 수 있다는 점에서 중요합니다.
		//아래 Module pattern이라 알려진 클로져를 통해 몇개의 public함수가 private함수와 변수에 접근하는 코드가 있다,
		//
		
		var Counter = (function(){
			var privateCounter = 0;
			function changeBy(val){
				privateCounter += val;
			}
			return {
				increment: function(){
					changeBy(1);
				},
				decrement: function(){
					changeBy(-1);
				},
				value: function(){
					return privateCounter;
				}
			}
		})();

		console.log(Counter.value());
		Counter.increment();
		Counter.increment();
		console.log(Counter.value());
		Counter.decrement();
		console.log(Counter.value());

	</script>
</body>
</html>